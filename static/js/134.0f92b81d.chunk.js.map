{"version":3,"file":"static/js/134.0f92b81d.chunk.js","mappings":"+SAEaA,EAAiB,mCAAG,oGACZC,EAAAA,EAAAA,IAAA,6TADY,cACzBC,EADyB,yBAIxBA,GAJwB,2CAAH,qDAOjBC,EAAe,mCAAG,WAAMC,GAAN,uFACVH,EAAAA,EAAAA,IAAA,oUAC4SG,IAFlS,cACvBF,EADuB,yBAItBA,GAJsB,2CAAH,sDAM5BC,EAAgB,SAASE,MAAK,SAAAH,GAAI,OAAII,QAAQC,IAAIL,EAAhB,IAE3B,IAAMM,EAAgB,mCAAG,WAAMC,GAAN,uFACXR,EAAAA,EAAAA,IAAA,6CACqBQ,EADrB,+QADW,cACxBP,EADwB,yBAIvBA,GAJuB,2CAAH,sDAQhBQ,EAAgB,mCAAG,WAAMD,GAAN,uFACXR,EAAAA,EAAAA,IAAA,6CACqBQ,EADrB,uRADW,cACxBP,EADwB,yBAIvBA,GAJuB,2CAAH,sDAOhBS,EAAgB,mCAAG,WAAMF,GAAN,uFACXR,EAAAA,EAAAA,IAAA,6CACqBQ,EADrB,uRADW,cACxBP,EADwB,yBAIvBA,GAJuB,2CAAH,qD,sFCqD7B,UAhFe,WACb,OAAwCU,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMV,EAAQS,EAAaE,IAAI,SAC/B,GAAoCC,EAAAA,EAAAA,UAASZ,GAAS,IAAtD,eAAOa,EAAP,KAAmBC,EAAnB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACMC,GAAWC,EAAAA,EAAAA,MAkCjB,OAVAC,EAAAA,EAAAA,YAAU,WAORnB,GALEoB,EAAAA,GACmBpB,GAChBC,MAAK,SAAAH,GAAI,OAAIkB,EAAclB,EAAKA,KAAKuB,QAA5B,IACTC,OAAM,SAAAC,GAAC,OAAIC,MAAMD,EAAV,GAGb,GAAE,CAACvB,KAGF,iCACE,kBAAMyB,SAlBW,SAAAC,GACnBA,EAAMC,iBACNjB,EAAgB,CAAEV,MAAOa,GAE1B,EAcG,WACE,kBAAOe,MAAOf,EAAYgB,SAnCX,SAAAH,GACnB,IAAME,EAAQF,EAAMI,OAAOF,MAC3Bd,EAAcc,GACTA,GACHlB,EAAgB,CAAC,EAGpB,EA4BuDqB,KAAK,UACvD,2CAGF,wBACGhB,EAAWiB,KAAI,SAAAC,GAAE,OAChB,gBAAIC,MAAO,CAAEC,OAAQ,OAAQC,QAAS,QAAtC,WACE,SAAC,KAAD,CACEF,MAAO,CAAEG,eAAgB,OAAQC,MAAO,SACxCC,GAAE,kBAAaN,EAAGO,IAClBC,MAAOxB,EAHT,UAKE,gBACEyB,MAAO,IACPC,IACEV,EAAGW,YAAH,yCACsCX,EAAGW,aACrC,uFAENC,IAAI,QAGR,UAAC,KAAD,CACEX,MAAO,CAAEG,eAAgB,OAAQC,MAAO,SACxCC,GAAE,kBAAaN,EAAGO,IAClBC,MAAOxB,EAHT,UAKGgB,EAAGa,OACJ,kBACCb,EAAGc,kBAvB6Cd,EAAGO,GADxC,QA+BzB,C","sources":["components/api.js","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n// Тренды\nexport const getTrendingMovies = async () => {\n  const data = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=2105b7aaa5e5e75ccc7797a3d78c360e&access_token=eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMTA1YjdhYWE1ZTVlNzVjY2M3Nzk3YTNkNzhjMzYwZSIsInN1YiI6IjY0ODQ0ZGZkZDJiMjA5MDBjYTFmMGNhZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9I-Q5JNBmL7uanr9Yy2cXFJKfT8QdxGP3W3Xd1CZ0XA`\n  );\n  return data;\n};\n// Поиск\nexport const getSearchMovies = async query => {\n  const data = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=2105b7aaa5e5e75ccc7797a3d78c360e&access_token=eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMTA1YjdhYWE1ZTVlNzVjY2M3Nzk3YTNkNzhjMzYwZSIsInN1YiI6IjY0ODQ0ZGZkZDJiMjA5MDBjYTFmMGNhZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9I-Q5JNBmL7uanr9Yy2cXFJKfT8QdxGP3W3Xd1CZ0XA&query=${query}`\n  );\n  return data;\n};\ngetSearchMovies('flash').then(data => console.log(data));\n// Инфо фильм\nexport const getDetailsMovies = async movie_id => {\n  const data = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movie_id}?api_key=2105b7aaa5e5e75ccc7797a3d78c360e&access_token=eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMTA1YjdhYWE1ZTVlNzVjY2M3Nzk3YTNkNzhjMzYwZSIsInN1YiI6IjY0ODQ0ZGZkZDJiMjA5MDBjYTFmMGNhZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9I-Q5JNBmL7uanr9Yy2cXFJKfT8QdxGP3W3Xd1CZ0XA`\n  );\n  return data;\n};\n\n// Актёры\nexport const getCreditsMovies = async movie_id => {\n  const data = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=2105b7aaa5e5e75ccc7797a3d78c360e&access_token=eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMTA1YjdhYWE1ZTVlNzVjY2M3Nzk3YTNkNzhjMzYwZSIsInN1YiI6IjY0ODQ0ZGZkZDJiMjA5MDBjYTFmMGNhZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9I-Q5JNBmL7uanr9Yy2cXFJKfT8QdxGP3W3Xd1CZ0XA`\n  );\n  return data;\n};\n// Обзоры\nexport const getReviewsMovies = async movie_id => {\n  const data = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movie_id}/reviews?api_key=2105b7aaa5e5e75ccc7797a3d78c360e&access_token=eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMTA1YjdhYWE1ZTVlNzVjY2M3Nzk3YTNkNzhjMzYwZSIsInN1YiI6IjY0ODQ0ZGZkZDJiMjA5MDBjYTFmMGNhZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9I-Q5JNBmL7uanr9Yy2cXFJKfT8QdxGP3W3Xd1CZ0XA`\n  );\n  return data;\n};\n","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport * as api from '../components/api';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const [inputValue, setInputValue] = useState(query || '');\n  const [dataSearch, setDataSearch] = useState([]);\n  const location = useLocation();\n\n  const handleChange = event => {\n    const value = event.target.value;\n    setInputValue(value);\n    if (!value) {\n      setSearchParams({});\n    }\n    // setSearchParams({ query: value });\n  };\n\n  // const getMovie = useCallback(() => {\n  //   api\n  //     .getSearchMovies(query)\n  //     .then(data => setDataSearch(data.data.results))\n  //     .catch(e => alert(e));\n  // }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams({ query: inputValue });\n    // query && getMovie();\n  };\n\n  useEffect(() => {\n    const getMovie = () => {\n      api\n        .getSearchMovies(query)\n        .then(data => setDataSearch(data.data.results))\n        .catch(e => alert(e));\n    };\n    query && getMovie();\n  }, [query]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input value={inputValue} onChange={handleChange} type=\"text\" />\n        <button>Search</button>\n      </form>\n\n      <ul>\n        {dataSearch.map(el => (\n          <li style={{ margin: '10px', display: 'flex' }} key={el.id}>\n            <Link\n              style={{ textDecoration: 'none', color: 'black' }}\n              to={`/movies/${el.id}`}\n              state={location}\n            >\n              <img\n                width={100}\n                src={\n                  el.poster_path\n                    ? `https://image.tmdb.org/t/p/w500${el.poster_path}`\n                    : 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png'\n                }\n                alt=\"\"\n              />\n            </Link>\n            <Link\n              style={{ textDecoration: 'none', color: 'black' }}\n              to={`/movies/${el.id}`}\n              state={location}\n            >\n              {el.title}\n              <br />\n              {el.release_date}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["getTrendingMovies","axios","data","getSearchMovies","query","then","console","log","getDetailsMovies","movie_id","getCreditsMovies","getReviewsMovies","useSearchParams","searchParams","setSearchParams","get","useState","inputValue","setInputValue","dataSearch","setDataSearch","location","useLocation","useEffect","api","results","catch","e","alert","onSubmit","event","preventDefault","value","onChange","target","type","map","el","style","margin","display","textDecoration","color","to","id","state","width","src","poster_path","alt","title","release_date"],"sourceRoot":""}